require File.expand_path(File.join(File.dirname(__FILE__),"..","..","..",'/spec_helper'))
<% @klass.find(:all) %>
describe <%= @class_name %> do				  

   use_vcr_cassette "<%= File.join(@klass.name.split("/")) %>", :record => :new_episodes, :match_requests_on => [:uri, :method, :body]
  
   before(:each) do
      @<%= @instance_name %> = <%= @class_name %>.find("<%= @instance_id %>")
    end	 		

    <% @klass.client.wsdl.operations.keys.each do |operation| %>

    <% if operation.to_s =~ /get_(.*)/ %>
      <% method_name = $1 %>

  describe "<%= method_name %>" do 
    it "exists" do

      @<%= @instance_name %>.methods.should include(:<%= method_name.to_sym %>)
    end

    it "should return without raise any exception" do
      lambda { @<%= @instance_name %>.<%= method_name %> }.should_not raise_exception
      puts @<%= @instance_name %>.<%= method_name %>.inspect
    end

  end

    <% end %>
  <% end %>

end
